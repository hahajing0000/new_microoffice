<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zy.microoffice.mapper.TeamMapper">

    <resultMap id="BaseResultMap" type="com.zy.microoffice.entity.TeamEntity">

    </resultMap>

    <insert id="createTeam">
        insert into b_team(teamname,teamcode,creator,creatorname,description,ctime) values(#{teamname},#{teamcode},#{creator},#{creatorname},#{description},SYSDATE());
    </insert>
    <delete id="removeTeam">
        delete from b_team where id=#{id}
    </delete>
    <update id="modifyTeam">
        update b_team set teamname=#{teamname},teamcode=#{teamcode},creator=#{creator},creatorname=#{creatorname},description=#{description} where id=#{id};
    </update>
    <select id="getTeamInfoById" resultType="com.zy.microoffice.entity.TeamEntity">
        select * from b_team where id=#{id}
    </select>
    <select id="getTeamInfosByUserId" resultType="com.zy.microoffice.entity.TeamEntity">
        select * from b_team where creator=#{userid} UNION select * from b_team where id in (select teamid from b_rel_team_user where userid=#{userid})
    </select>
</mapper>